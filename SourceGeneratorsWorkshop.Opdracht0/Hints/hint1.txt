You need to implement ISourceGenerator and add the [Generator] attribute to your class.